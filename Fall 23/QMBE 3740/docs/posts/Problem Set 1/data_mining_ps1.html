<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Xander C">
<meta name="dcterms.date" content="2023-09-18">

<title>Xander Chapman -  Data Mining: Problem Set 1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/personal_logo.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Xander Chapman</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../posts.html" rel="" target="">
 <span class="menu-text">Posts</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projects.html" rel="" target="">
 <span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../resume.html" rel="" target="">
 <span class="menu-text">Resume</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/achapathamline/" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com" rel="" target=""><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/" rel="" target=""><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#the-structure-of-the-data" id="toc-the-structure-of-the-data" class="nav-link active" data-scroll-target="#the-structure-of-the-data">The Structure of the Data</a></li>
  <li><a href="#summary-of-features" id="toc-summary-of-features" class="nav-link" data-scroll-target="#summary-of-features">Summary of Features</a></li>
  <li><a href="#relationships-between-features" id="toc-relationships-between-features" class="nav-link" data-scroll-target="#relationships-between-features">Relationships Between Features</a></li>
  <li><a href="#machine-learning-questions" id="toc-machine-learning-questions" class="nav-link" data-scroll-target="#machine-learning-questions">Machine Learning Questions</a>
  <ul class="collapse">
  <li><a href="#what-are-the-7-basic-steps-of-machine-learning" id="toc-what-are-the-7-basic-steps-of-machine-learning" class="nav-link" data-scroll-target="#what-are-the-7-basic-steps-of-machine-learning">What are the 7 basic steps of machine learning?</a></li>
  <li><a href="#in-your-own-words-please-explain-the-bias-variance-tradeoff-in-supervised-machine-learning-and-make-sure-to-include-proper-terminology" id="toc-in-your-own-words-please-explain-the-bias-variance-tradeoff-in-supervised-machine-learning-and-make-sure-to-include-proper-terminology" class="nav-link" data-scroll-target="#in-your-own-words-please-explain-the-bias-variance-tradeoff-in-supervised-machine-learning-and-make-sure-to-include-proper-terminology">In your own words, please explain the bias-variance tradeoff in supervised machine learning and make sure to include proper terminology?</a></li>
  <li><a href="#explain-in-your-own-words-why-cross-validation-is-important-and-useful" id="toc-explain-in-your-own-words-why-cross-validation-is-important-and-useful" class="nav-link" data-scroll-target="#explain-in-your-own-words-why-cross-validation-is-important-and-useful">Explain, in your own words, why cross-validation is important and useful?</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><p><img src="long_logo.png" class="img-fluid" style="width:4.5in"> Data Mining: Problem Set 1</p></h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Xander C<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 18, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<!-- In markdown, the dashes, brackets and exclamation points marking the beginning and end of this block of text represent comments. They will not be included as text or as code in the document you generate. This can be a handy way to leave yourself, teammates, coworkers, etc. important information that travels with the document without becoming part of the final output. I will use these comment blocks to provide directions to you in this assignment.
-->
<!-- The paragraph below is written as a "block quote" as a sort sort of abstract for the document.-->
<blockquote class="blockquote">
<p>The purpose of this document is to simulataneously analyze data on US crime rates and become more familiar with the syntax and abilities of R-markdown to combine code and analysis in a progressional document. Blockquotes look better in HTML typically, but you can see their general effect in any document. The text is highlighted differently in RStudio so you know its part of the block quote. Also, the margins of the text in the final document are narrower to separate the block quote from normal text.</p>
</blockquote>
<section id="the-structure-of-the-data" class="level2">
<h2 class="anchored" data-anchor-id="the-structure-of-the-data">The Structure of the Data</h2>
<!-- You are going to discuss the data we are about to analyze.
  * In the lower-right pane of RStudio, click on the Help tab.
  * In the help tab search box, type in USArrests and hit enter.
  * Read the provided help file.
  * Write a short paragraph discussing what the data set is about.
-->
<blockquote class="blockquote">
<p>The USArrests dataset contains the number of arrests for assault, murder, and rape per 100,000 people across all 50 states in 1973. It also contains the percentage of people living in urban areas vs rural areas.</p>
</blockquote>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   50 obs. of  4 variables:
 $ Murder  : num  13.2 10 8.1 8.8 9 7.9 3.3 5.9 15.4 17.4 ...
 $ Assault : int  236 263 294 190 276 204 110 238 335 211 ...
 $ UrbanPop: int  58 48 80 50 91 78 77 72 80 60 ...
 $ Rape    : num  21.2 44.5 31 19.5 40.6 38.7 11.1 15.8 31.9 25.8 ...
NULL</code></pre>
</div>
</div>
<!-- 
Write a paragraph discussing the structure of the data such as:
* How many observations do we have?
* How many columns and what are they, how do we interpret their numbers?
* What kind of data types do we have for each column?
* Whenever you mention a column name, like "Assault", in your paragraph, surround the word with single back-ticks such as `Assault`. This will change the font for that word to monospace and make it look like code.
-->
<blockquote class="blockquote">
<p>The USArrests dataset contains 200 observations with 50 observations over 4 variables. The 4 variables being <code>Murder</code>, <code>Assault</code>, <code>UrbanPop</code>, and <code>Rape</code>. This allows us to measure the number of <code>Murder</code>, <code>Assault</code>, and <code>Rape</code> arrests compared to the <code>Urban Population</code>. These variables can tell us if there is a trend in the amount of arrests to the size of the population, or if specific states are outliers in certain crime types.</p>
</blockquote>
</section>
<section id="summary-of-features" class="level2">
<h2 class="anchored" data-anchor-id="summary-of-features">Summary of Features</h2>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">Murder</th>
<th style="text-align: left;">Assault</th>
<th style="text-align: left;">UrbanPop</th>
<th style="text-align: left;">Rape</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">Min. : 0.800</td>
<td style="text-align: left;">Min. : 45.0</td>
<td style="text-align: left;">Min. :32.00</td>
<td style="text-align: left;">Min. : 7.30</td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">1st Qu.: 4.075</td>
<td style="text-align: left;">1st Qu.:109.0</td>
<td style="text-align: left;">1st Qu.:54.50</td>
<td style="text-align: left;">1st Qu.:15.07</td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">Median : 7.250</td>
<td style="text-align: left;">Median :159.0</td>
<td style="text-align: left;">Median :66.00</td>
<td style="text-align: left;">Median :20.10</td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">Mean : 7.788</td>
<td style="text-align: left;">Mean :170.8</td>
<td style="text-align: left;">Mean :65.54</td>
<td style="text-align: left;">Mean :21.23</td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">3rd Qu.:11.250</td>
<td style="text-align: left;">3rd Qu.:249.0</td>
<td style="text-align: left;">3rd Qu.:77.75</td>
<td style="text-align: left;">3rd Qu.:26.18</td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">Max. :17.400</td>
<td style="text-align: left;">Max. :337.0</td>
<td style="text-align: left;">Max. :91.00</td>
<td style="text-align: left;">Max. :46.00</td>
</tr>
</tbody>
</table>
</div>
</div>
<!-- Discuss the summary.
  * Quickly discuss the mean of each column and interpret the mean values
    based on the definition of the column in the help file.
  * In this paragraph, each time you type a column name, like "Murder"
    surround it in single stars *Murder* so that it will be italicized.
  * In this paragraph, each time you type the word "mean", surround it
    with double stars **mean** so it will be bolded.
-->
<blockquote class="blockquote">
<p>To summarize this data, we can see that per 100,000 people, there are around 7 murder arrests, 171 assault arrests, and 21 rape arrests.</p>
</blockquote>
</section>
<section id="relationships-between-features" class="level2">
<h2 class="anchored" data-anchor-id="relationships-between-features">Relationships Between Features</h2>
<!--  Make sure that this code block shows up in the final document
      and that the resulting plot does also.                        -->
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>  scaled_data <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">sapply</span>(USArrests, scale))</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">gather</span>(scaled_data, cols, value), <span class="fu">aes</span>(<span class="at">x =</span> value)) <span class="sc">+</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..), <span class="at">bins =</span> <span class="dv">10</span>) <span class="sc">+</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> .<span class="dv">2</span>, <span class="at">fill =</span> <span class="st">"#FF6666"</span>) <span class="sc">+</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(. <span class="sc">~</span> cols) <span class="sc">+</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Feature Histograms for the Scaled US Arrests Data"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="data_mining_ps1_files/figure-html/histogram-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<!-- Scaling the data centered the features at zero
and allows features to deviate above and below.  Write a paragraph describing whether you see any slight skew in the distributions of the features and include it below
-->
<blockquote class="blockquote">
<p>In the scaled data above, we can see a small amount of skew to the left in the arrest features, and a right skew in the population feature.</p>
</blockquote>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="data_mining_ps1_files/figure-html/facet grid of scatter plots-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Facet Grid of Scatter Plots</figcaption>
</figure>
</div>
</div>
</div>
<!-- Write a paragraph describing whether you see any relationships in terms of correlation between the features of the dataset. Do your best to interpret any of these relationships and what they may or may not mean.
-->
<blockquote class="blockquote">
<p>When looking for relationships in the scatter plots above, we can see that there is some linaer relationship between the features of the dataset. This tells us that the more of one type of arrest or higher population generally indicates that there are going to be more arrests of other types.</p>
</blockquote>

<!--
Finally, create a table of the mean values.
In markdown, we can specify tables using some basic
text formatting and it will be turned into a nice table.
For each feature, replace the ___ marks with inline R code,
you know the `r ` that will insert the mean value of each feature 
in the table. You can get the mean using,
mean(USArrests$Murder). For the remaining features, replace
the Murder part with the feature name as spelled in the dataset.
-->
<table class="table">
<thead>
<tr class="header">
<th><strong>Variable</strong></th>
<th><strong>Mean</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Murder</td>
<td>7.788</td>
</tr>
<tr class="even">
<td>Assault</td>
<td>170.76</td>
</tr>
<tr class="odd">
<td>UrbanPop</td>
<td>65.54</td>
</tr>
<tr class="even">
<td>Rape</td>
<td>21.232</td>
</tr>
</tbody>
</table>
</section>
<section id="machine-learning-questions" class="level2">
<h2 class="anchored" data-anchor-id="machine-learning-questions">Machine Learning Questions</h2>
<p>In this section, you will type your paragraph answers to the following questions presented below. Do your best to answer the questions after reading chapter 1 of the textbook and watching the assigned videos.</p>
<section id="what-are-the-7-basic-steps-of-machine-learning" class="level3">
<h3 class="anchored" data-anchor-id="what-are-the-7-basic-steps-of-machine-learning">What are the 7 basic steps of machine learning?</h3>
<blockquote class="blockquote">
<p>The 7 basic steps of machine learning are Gathering Data, Data Preparation, Choosing a model, Training, Evaluation, Parameter turning, and prediciton.</p>
</blockquote>
</section>
<section id="in-your-own-words-please-explain-the-bias-variance-tradeoff-in-supervised-machine-learning-and-make-sure-to-include-proper-terminology" class="level3">
<h3 class="anchored" data-anchor-id="in-your-own-words-please-explain-the-bias-variance-tradeoff-in-supervised-machine-learning-and-make-sure-to-include-proper-terminology">In your own words, please explain the bias-variance tradeoff in supervised machine learning and make sure to include proper terminology?</h3>
<blockquote class="blockquote">
<p>The bias-variance tradeoff in supervised machine learning is give and take of overfitting and underfitting your maching learning model. Bias would be that your model is underfitting and variance would be that your model is overfitting. As you increase a model’s complexity, you fit the training data better, increase the variance, and reduce the bias of the model. As you decrease a model’s complexity, you give the algorithim more bias, decrease the variance, but also won’t fit the training data better.</p>
</blockquote>
</section>
<section id="explain-in-your-own-words-why-cross-validation-is-important-and-useful" class="level3">
<h3 class="anchored" data-anchor-id="explain-in-your-own-words-why-cross-validation-is-important-and-useful">Explain, in your own words, why cross-validation is important and useful?</h3>
<blockquote class="blockquote">
<p>Cross validation is useful in Machine Learning becasue it can be used to ensure your model is well tuned. Cross validation can be used for model assessment, understanding the bias-variance tradeoff, parameter turning, and overall robustness of your model.</p>
</blockquote>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p><strong>Email</strong> achapman03@hamline.edu. <strong>Position</strong> Student<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p><strong>Email</strong> achapman03@hamline.edu. <strong>Position</strong> Student<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p><strong>Email</strong> achapman03@hamline.edu. <strong>Position</strong> Student<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>